<Window x:Class="CulvertEditor.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Culvert Box - Plan View Editor" Height="700" Width="1200"
        Background="#F5F5F5"
        Loaded="Window_Loaded">
    <Window.Resources>
        <Style TargetType="TextBox">
            <Setter Property="Padding" Value="5"/>
            <Setter Property="Margin" Value="5,2"/>
            <Setter Property="Height" Value="28"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        <Style TargetType="TextBlock">
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="5,2"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="320"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Panel nhập liệu bên trái -->
        <Border Grid.Column="0" Background="White" BorderBrush="#DDD" BorderThickness="0,0,1,0" Padding="15">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <TextBlock Text="THÔNG SỐ MẶT BẰNG CỐNG HỘP" FontWeight="Bold" FontSize="14" Margin="0,0,0,15" TextWrapping="Wrap"/>

                    <!-- Kích thước chính -->
                    <TextBlock Text="KÍCH THƯỚC CHÍNH" FontWeight="Bold" Margin="0,10,0,5"/>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Chiều dài tổng:"/>
                        <TextBox Grid.Column="1" x:Name="txtTotalLength" Text="10600" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Chiều rộng tổng:"/>
                        <TextBox Grid.Column="1" x:Name="txtTotalWidth" Text="6000" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Chiều dài thân giữa:"/>
                        <TextBox Grid.Column="1" x:Name="txtMiddleLength" Text="5720" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Separator Margin="0,15"/>

                    <!-- Cửa xả trên -->
                    <TextBlock Text="CỬA XẢ TRÊN" FontWeight="Bold" Margin="0,10,0,5"/>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Chiều dài cửa xả:"/>
                        <TextBox Grid.Column="1" x:Name="txtTopOutletLength" Text="2000" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Chiều rộng trong:"/>
                        <TextBox Grid.Column="1" x:Name="txtTopOutletInnerWidth" Text="300" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Chiều rộng ngoài:"/>
                        <TextBox Grid.Column="1" x:Name="txtTopOutletOuterWidth" Text="1500" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Khoảng cách từ mép:"/>
                        <TextBox Grid.Column="1" x:Name="txtTopOutletOffset" Text="300" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Separator Margin="0,15"/>

                    <!-- Cửa xả dưới -->
                    <TextBlock Text="CỬA XẢ DƯỚI" FontWeight="Bold" Margin="0,10,0,5"/>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Chiều dài cửa xả:"/>
                        <TextBox Grid.Column="1" x:Name="txtBottomOutletLength" Text="2000" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Chiều rộng trong:"/>
                        <TextBox Grid.Column="1" x:Name="txtBottomOutletInnerWidth" Text="300" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Chiều rộng ngoài:"/>
                        <TextBox Grid.Column="1" x:Name="txtBottomOutletOuterWidth" Text="1500" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Khoảng cách từ mép:"/>
                        <TextBox Grid.Column="1" x:Name="txtBottomOutletOffset" Text="300" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Separator Margin="0,15"/>

                    <!-- Góc nghiêng -->
                    <TextBlock Text="GÓC NGHIÊNG" FontWeight="Bold" Margin="0,10,0,5"/>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Góc nghiêng cửa:"/>
                        <TextBox Grid.Column="1" x:Name="txtOutletAngle" Text="20" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="°"/>
                    </Grid>

                    <Separator Margin="0,15"/>

                    <CheckBox x:Name="chkShowDimensions" Content="Hiển thị kích thước" Margin="5,5" IsChecked="True" Checked="OnDimensionChanged" Unchecked="OnDimensionChanged"/>
                    <CheckBox x:Name="chkShowHatching" Content="Hiển thị gạch chéo" Margin="5,5" IsChecked="True" Checked="OnDimensionChanged" Unchecked="OnDimensionChanged"/>

                    <Button Content="Reset" Margin="0,15,0,0" Padding="10" Click="OnReset"/>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- Canvas preview bên phải -->
        <Border Grid.Column="1" Background="#2C2C2C" Padding="20">
            <Viewbox Stretch="Uniform">
                <Canvas x:Name="planCanvas" Width="900" Height="700" Background="#2C2C2C"/>
            </Viewbox>
        </Border>
    </Grid>
</Window>