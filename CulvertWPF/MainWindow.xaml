<!-- MainWindow.xaml -->
<Window x:Class="BridgeEditor.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Bridge Cross Section Editor" Height="700" Width="1200"
        Background="#F5F5F5"
        Loaded="Window_Loaded">
    <Window.Resources>
        <Style TargetType="TextBox">
            <Setter Property="Padding" Value="5"/>
            <Setter Property="Margin" Value="5,2"/>
            <Setter Property="Height" Value="28"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        <Style TargetType="TextBlock">
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="5,2"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="320"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Panel nhập liệu -->
        <Border Grid.Column="0" Background="White" BorderBrush="#DDD" BorderThickness="0,0,1,0" Padding="15">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <TextBlock Text="THÔNG SỐ MẶT CẮT NGANG CẦU" FontWeight="Bold" FontSize="14" Margin="0,0,0,15" TextWrapping="Wrap"/>

                    <!-- Bản mặt cầu -->
                    <TextBlock Text="BẢN MẶT CẦU" FontWeight="Bold" Margin="0,10,0,5"/>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="140"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Chiều rộng bản:"/>
                        <TextBox Grid.Column="1" x:Name="txtDeckWidth" Text="14000" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="140"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Độ dày bản:"/>
                        <TextBox Grid.Column="1" x:Name="txtDeckThickness" Text="200" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Separator Margin="0,15"/>

                    <!-- Dầm chủ -->
                    <TextBlock Text="DẦM CHỦ (2 BÊN)" FontWeight="Bold" Margin="0,10,0,5"/>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="140"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Chiều cao dầm:"/>
                        <TextBox Grid.Column="1" x:Name="txtBeamHeight" Text="2000" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="140"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Rộng bản trên:"/>
                        <TextBox Grid.Column="1" x:Name="txtTopFlangeWidth" Text="600" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="140"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Dày bản trên:"/>
                        <TextBox Grid.Column="1" x:Name="txtTopFlangeThickness" Text="200" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="140"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Rộng bụng dầm:"/>
                        <TextBox Grid.Column="1" x:Name="txtWebWidth" Text="300" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="140"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Rộng bản dưới:"/>
                        <TextBox Grid.Column="1" x:Name="txtBottomFlangeWidth" Text="800" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="140"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Dày bản dưới:"/>
                        <TextBox Grid.Column="1" x:Name="txtBottomFlangeThickness" Text="200" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Separator Margin="0,15"/>

                    <!-- Vị trí dầm -->
                    <TextBlock Text="VỊ TRÍ DẦM" FontWeight="Bold" Margin="0,10,0,5"/>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="140"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Khoảng cách 2 dầm:"/>
                        <TextBox Grid.Column="1" x:Name="txtBeamSpacing" Text="12000" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="140"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Khoảng cách đỉnh:"/>
                        <TextBox Grid.Column="1" x:Name="txtBeamOffset" Text="400" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="mm"/>
                    </Grid>

                    <Separator Margin="0,15"/>

                    <!-- Góc nghiêng -->
                    <TextBlock Text="GÓC NGHIÊNG" FontWeight="Bold" Margin="0,10,0,5"/>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="140"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="50"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Góc dầm (độ):"/>
                        <TextBox Grid.Column="1" x:Name="txtBeamAngle" Text="20" TextChanged="OnDimensionChanged"/>
                        <TextBlock Grid.Column="2" Text="°"/>
                    </Grid>

                    <CheckBox x:Name="chkShowHatching" Content="Hiển thị gạch chéo" Margin="5,15,5,5" IsChecked="True" Checked="OnDimensionChanged" Unchecked="OnDimensionChanged"/>

                    <Button Content="Reset" Margin="0,20,0,0" Padding="10" Click="OnReset"/>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- Canvas preview -->
        <Border Grid.Column="1" Background="White" Padding="20">
            <Viewbox Stretch="Uniform">
                <Canvas x:Name="previewCanvas" Width="1000" Height="600" Background="#FAFAFA"/>
            </Viewbox>
        </Border>
    </Grid>
</Window>
